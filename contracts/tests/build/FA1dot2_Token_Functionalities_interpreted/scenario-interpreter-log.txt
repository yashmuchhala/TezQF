Comment...
 h1: FA1.2 Token Contract Functionalities Test
Comment...
 h3: Initial DAO Contract
Creating contract
 -> (Pair (Pair (Pair (Pair "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" -1) (Pair 200 {})) (Pair (Pair {} 1) (Pair 200 (Pair 0 200)))) (Pair (Pair (Pair 1 0) (Pair False (Pair 0 {}))) (Pair (Pair None None) (Pair False (Pair 0 {})))))
 => ./contracts/tests/build/FA1dot2_Token_Functionalities_interpreted/testContractTypes.0.2.tz 2
 => ./contracts/tests/build/FA1dot2_Token_Functionalities_interpreted/testContractCode.0.2.tz 5026
 => ./contracts/tests/build/FA1dot2_Token_Functionalities_interpreted/testContractCode.0.2.tz.json 6028
 => ./contracts/tests/build/FA1dot2_Token_Functionalities_interpreted/testPrettyPrint.0.2.py 228
Comment...
 h3: Initial Token Contract
Creating contract
 -> (Pair (Pair "Contract_0" {}) (Pair False 0))
 => ./contracts/tests/build/FA1dot2_Token_Functionalities_interpreted/testContractTypes.1.4.tz 2
 => ./contracts/tests/build/FA1dot2_Token_Functionalities_interpreted/testContractCode.1.4.tz 793
 => ./contracts/tests/build/FA1dot2_Token_Functionalities_interpreted/testContractCode.1.4.tz.json 861
 => ./contracts/tests/build/FA1dot2_Token_Functionalities_interpreted/testPrettyPrint.1.4.py 51
Comment...
 h3: Initial mint
Executing initialMint(sp.record(_members = sp.list([sp.reduce(sp.test_account("Administrator").address), sp.reduce(sp.test_account("Alice").address), sp.reduce(sp.test_account("Bob").address), sp.reduce(sp.test_account("John").address)]), _token = sp.contract_address(Contract1), value = 2500))...
 -> (Pair (Pair (Pair (Pair "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" -1) (Pair 200 {})) (Pair (Pair {} 1) (Pair 200 (Pair 0 200)))) (Pair (Pair (Pair 1 0) (Pair False (Pair 0 {}))) (Pair (Pair None (Some "Contract_1")) (Pair False (Pair 0 {})))))
Executing mint(sp.record(address = sp.address('tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w'), value = 2500))...
 -> (Pair (Pair "Contract_0" {Elt "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" (Pair {} 2500)}) (Pair False 2500))
Executing addTokens(sp.record(address = sp.address('tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w'), value = 2500))...
 -> (Pair (Pair (Pair (Pair "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" -1) (Pair 200 {})) (Pair (Pair {Elt "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" (Pair {} 2500)} 1) (Pair 200 (Pair 0 200)))) (Pair (Pair (Pair 1 0) (Pair False (Pair 0 {}))) (Pair (Pair None (Some "Contract_1")) (Pair False (Pair 0 {})))))
Executing mint(sp.record(address = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), value = 2500))...
 -> (Pair (Pair "Contract_0" {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair {} 2500); Elt "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" (Pair {} 2500)}) (Pair False 5000))
Executing addTokens(sp.record(address = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), value = 2500))...
 -> (Pair (Pair (Pair (Pair "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" -1) (Pair 200 {})) (Pair (Pair {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair {} 2500); Elt "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" (Pair {} 2500)} 1) (Pair 200 (Pair 0 200)))) (Pair (Pair (Pair 1 0) (Pair False (Pair 0 {}))) (Pair (Pair None (Some "Contract_1")) (Pair False (Pair 0 {})))))
Executing mint(sp.record(address = sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), value = 2500))...
 -> (Pair (Pair "Contract_0" {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" (Pair {} 2500); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair {} 2500); Elt "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" (Pair {} 2500)}) (Pair False 7500))
Executing addTokens(sp.record(address = sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), value = 2500))...
 -> (Pair (Pair (Pair (Pair "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" -1) (Pair 200 {})) (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" (Pair {} 2500); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair {} 2500); Elt "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" (Pair {} 2500)} 1) (Pair 200 (Pair 0 200)))) (Pair (Pair (Pair 1 0) (Pair False (Pair 0 {}))) (Pair (Pair None (Some "Contract_1")) (Pair False (Pair 0 {})))))
Executing mint(sp.record(address = sp.address('tz1MNSSsKGkxwzZ189EdGLFCmFTJiDyy6T92'), value = 2500))...
 -> (Pair (Pair "Contract_0" {Elt "tz1MNSSsKGkxwzZ189EdGLFCmFTJiDyy6T92" (Pair {} 2500); Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" (Pair {} 2500); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair {} 2500); Elt "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" (Pair {} 2500)}) (Pair False 10000))
Executing addTokens(sp.record(address = sp.address('tz1MNSSsKGkxwzZ189EdGLFCmFTJiDyy6T92'), value = 2500))...
 -> (Pair (Pair (Pair (Pair "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" -1) (Pair 200 {})) (Pair (Pair {Elt "tz1MNSSsKGkxwzZ189EdGLFCmFTJiDyy6T92" (Pair {} 2500); Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" (Pair {} 2500); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair {} 2500); Elt "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" (Pair {} 2500)} 1) (Pair 200 (Pair 0 200)))) (Pair (Pair (Pair 1 0) (Pair False (Pair 0 {}))) (Pair (Pair None (Some "Contract_1")) (Pair False (Pair 0 {})))))
Comment...
 h3: Initial Mint Again (FAILED)
Executing initialMint(sp.record(_members = sp.list([sp.reduce(sp.test_account("Administrator").address), sp.reduce(sp.test_account("Alice").address), sp.reduce(sp.test_account("Bob").address), sp.reduce(sp.test_account("John").address)]), _token = sp.contract_address(Contract1), value = 2500))...
 -> --- Expected failure in transaction --- WrongCondition in line 752: (sp.sender == self.data.admin) & (~ self.data.token.is_some())
Verifying sp.contract_data(1).totalSupply == 10000...
 => ./contracts/tests/build/FA1dot2_Token_Functionalities_interpreted/testVerify.9.tz 23
 OK
Comment...
 h3: 
[&#x2713] 10000 tokens minted succesfully
Verifying sp.contract_data(1).balances[sp.reduce(sp.test_account("Administrator").address)].balance == 2500...
 => ./contracts/tests/build/FA1dot2_Token_Functionalities_interpreted/testVerify.11.tz 35
 OK
Verifying sp.contract_data(1).balances[sp.reduce(sp.test_account("Alice").address)].balance == 2500...
 => ./contracts/tests/build/FA1dot2_Token_Functionalities_interpreted/testVerify.12.tz 35
 OK
Verifying sp.contract_data(1).balances[sp.reduce(sp.test_account("Bob").address)].balance == 2500...
 => ./contracts/tests/build/FA1dot2_Token_Functionalities_interpreted/testVerify.13.tz 35
 OK
Verifying sp.contract_data(1).balances[sp.reduce(sp.test_account("John").address)].balance == 2500...
 => ./contracts/tests/build/FA1dot2_Token_Functionalities_interpreted/testVerify.14.tz 35
 OK
Comment...
 h3: 
[&#x2713] All members have 2500 tokens in 'balances' in token contract
Verifying sp.contract_data(0).holders[sp.reduce(sp.test_account("Administrator").address)].balance == 2500...
 => ./contracts/tests/build/FA1dot2_Token_Functionalities_interpreted/testVerify.16.tz 35
 OK
Verifying sp.contract_data(0).holders[sp.reduce(sp.test_account("Alice").address)].balance == 2500...
 => ./contracts/tests/build/FA1dot2_Token_Functionalities_interpreted/testVerify.17.tz 35
 OK
Verifying sp.contract_data(0).holders[sp.reduce(sp.test_account("Bob").address)].balance == 2500...
 => ./contracts/tests/build/FA1dot2_Token_Functionalities_interpreted/testVerify.18.tz 35
 OK
Verifying sp.contract_data(0).holders[sp.reduce(sp.test_account("John").address)].balance == 2500...
 => ./contracts/tests/build/FA1dot2_Token_Functionalities_interpreted/testVerify.19.tz 35
 OK
Comment...
 h3: 
[&#x2713] All members have 2500 tokens in 'balances' in the DAO contract
Verifying ~ (sp.contract_data(0).holders.contains(sp.reduce(sp.test_account("Mike").address)))...
 => ./contracts/tests/build/FA1dot2_Token_Functionalities_interpreted/testVerify.21.tz 22
 OK
Verifying ~ (sp.contract_data(1).balances.contains(sp.reduce(sp.test_account("Mike").address)))...
 => ./contracts/tests/build/FA1dot2_Token_Functionalities_interpreted/testVerify.22.tz 22
 OK
Comment...
 h3: 
[&#x2713] All non-members do not exist in either of the 'balances'
Comment...
 h3: Send tokens from Alice to Bob by Bob (FAILED)
Executing transfer(sp.record(from_ = sp.reduce(sp.test_account("Alice").address), to_ = sp.reduce(sp.test_account("Bob").address), value = 2500))...
 -> --- Expected failure in transaction --- WrongCondition in line 80: (~ self.data.paused) & ((params.from_ == sp.sender) | ((self.data.balances[params.from_].approvals.contains(sp.sender)) & (self.data.balances[params.from_].approvals[sp.sender] >= params.value)))
Comment...
 h3: Send tokens from Alice to Bob by Alice
Executing transfer(sp.record(from_ = sp.reduce(sp.test_account("Alice").address), to_ = sp.reduce(sp.test_account("Bob").address), value = 2500))...
 -> (Pair (Pair "Contract_0" {Elt "tz1MNSSsKGkxwzZ189EdGLFCmFTJiDyy6T92" (Pair {} 2500); Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" (Pair {} 5000); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair {} 0); Elt "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" (Pair {} 2500)}) (Pair False 10000))
Executing removeTokens(sp.record(address = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), value = 2500))...
 -> (Pair (Pair (Pair (Pair "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" -1) (Pair 200 {})) (Pair (Pair {Elt "tz1MNSSsKGkxwzZ189EdGLFCmFTJiDyy6T92" (Pair {} 2500); Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" (Pair {} 2500); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair {} 0); Elt "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" (Pair {} 2500)} 1) (Pair 200 (Pair 0 200)))) (Pair (Pair (Pair 1 0) (Pair False (Pair 0 {}))) (Pair (Pair None (Some "Contract_1")) (Pair False (Pair 0 {})))))
Executing addTokens(sp.record(address = sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), value = 2500))...
 -> (Pair (Pair (Pair (Pair "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" -1) (Pair 200 {})) (Pair (Pair {Elt "tz1MNSSsKGkxwzZ189EdGLFCmFTJiDyy6T92" (Pair {} 2500); Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" (Pair {} 5000); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair {} 0); Elt "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" (Pair {} 2500)} 1) (Pair 200 (Pair 0 200)))) (Pair (Pair (Pair 1 0) (Pair False (Pair 0 {}))) (Pair (Pair None (Some "Contract_1")) (Pair False (Pair 0 {})))))
Verifying sp.contract_data(1).balances[sp.reduce(sp.test_account("Alice").address)].balance == 0...
 => ./contracts/tests/build/FA1dot2_Token_Functionalities_interpreted/testVerify.28.tz 35
 OK
Verifying sp.contract_data(1).balances[sp.reduce(sp.test_account("Bob").address)].balance == 5000...
 => ./contracts/tests/build/FA1dot2_Token_Functionalities_interpreted/testVerify.29.tz 35
 OK
Comment...
 h3: Transfer from Alice to Bob by Alice with 0 balance (FAILED)
Executing transfer(sp.record(from_ = sp.reduce(sp.test_account("Alice").address), to_ = sp.reduce(sp.test_account("Bob").address), value = 2500))...
 -> --- Expected failure in transaction --- WrongCondition in line 97: self.data.balances[params.from_].balance >= params.value
Comment...
 h3: 
[&#x2713] All transfers work as expected
Comment...
 h3: Approve Alice to spend on behalf of Bob
Executing approve(sp.record(spender = sp.reduce(sp.test_account("Alice").address), value = 2500))...
 -> (Pair (Pair "Contract_0" {Elt "tz1MNSSsKGkxwzZ189EdGLFCmFTJiDyy6T92" (Pair {} 2500); Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" (Pair {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 2500} 5000); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair {} 0); Elt "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" (Pair {} 2500)}) (Pair False 10000))
Executing setApproval(sp.record(address = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), owner = sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), value = 2500))...
 -> (Pair (Pair (Pair (Pair "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" -1) (Pair 200 {})) (Pair (Pair {Elt "tz1MNSSsKGkxwzZ189EdGLFCmFTJiDyy6T92" (Pair {} 2500); Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" (Pair {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 2500} 5000); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair {} 0); Elt "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" (Pair {} 2500)} 1) (Pair 200 (Pair 0 200)))) (Pair (Pair (Pair 1 0) (Pair False (Pair 0 {}))) (Pair (Pair None (Some "Contract_1")) (Pair False (Pair 0 {})))))
Comment...
 h3: Alice spends all permitted tokens on behalf of Bob
Executing transfer(sp.record(from_ = sp.reduce(sp.test_account("Bob").address), to_ = sp.reduce(sp.test_account("Alice").address), value = 2500))...
 -> (Pair (Pair "Contract_0" {Elt "tz1MNSSsKGkxwzZ189EdGLFCmFTJiDyy6T92" (Pair {} 2500); Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" (Pair {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 0} 2500); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair {} 2500); Elt "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" (Pair {} 2500)}) (Pair False 10000))
Executing decreaseApproval(sp.record(address = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), owner = sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), value = 2500))...
 -> (Pair (Pair (Pair (Pair "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" -1) (Pair 200 {})) (Pair (Pair {Elt "tz1MNSSsKGkxwzZ189EdGLFCmFTJiDyy6T92" (Pair {} 2500); Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" (Pair {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 0} 5000); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair {} 0); Elt "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" (Pair {} 2500)} 1) (Pair 200 (Pair 0 200)))) (Pair (Pair (Pair 1 0) (Pair False (Pair 0 {}))) (Pair (Pair None (Some "Contract_1")) (Pair False (Pair 0 {})))))
Executing removeTokens(sp.record(address = sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), value = 2500))...
 -> (Pair (Pair (Pair (Pair "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" -1) (Pair 200 {})) (Pair (Pair {Elt "tz1MNSSsKGkxwzZ189EdGLFCmFTJiDyy6T92" (Pair {} 2500); Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" (Pair {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 0} 2500); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair {} 0); Elt "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" (Pair {} 2500)} 1) (Pair 200 (Pair 0 200)))) (Pair (Pair (Pair 1 0) (Pair False (Pair 0 {}))) (Pair (Pair None (Some "Contract_1")) (Pair False (Pair 0 {})))))
Executing addTokens(sp.record(address = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), value = 2500))...
 -> (Pair (Pair (Pair (Pair "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" -1) (Pair 200 {})) (Pair (Pair {Elt "tz1MNSSsKGkxwzZ189EdGLFCmFTJiDyy6T92" (Pair {} 2500); Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" (Pair {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 0} 2500); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair {} 2500); Elt "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" (Pair {} 2500)} 1) (Pair 200 (Pair 0 200)))) (Pair (Pair (Pair 1 0) (Pair False (Pair 0 {}))) (Pair (Pair None (Some "Contract_1")) (Pair False (Pair 0 {})))))
Verifying sp.contract_data(1).balances[sp.reduce(sp.test_account("Alice").address)].balance == 2500...
 => ./contracts/tests/build/FA1dot2_Token_Functionalities_interpreted/testVerify.37.tz 35
 OK
Verifying sp.contract_data(1).balances[sp.reduce(sp.test_account("Bob").address)].balance == 2500...
 => ./contracts/tests/build/FA1dot2_Token_Functionalities_interpreted/testVerify.38.tz 35
 OK
Comment...
 h3: Alice spends all permitted tokens on behalf of Bob again (FAILED)
Executing transfer(sp.record(from_ = sp.reduce(sp.test_account("Bob").address), to_ = sp.reduce(sp.test_account("Alice").address), value = 2500))...
 -> --- Expected failure in transaction --- WrongCondition in line 80: (~ self.data.paused) & ((params.from_ == sp.sender) | ((self.data.balances[params.from_].approvals.contains(sp.sender)) & (self.data.balances[params.from_].approvals[sp.sender] >= params.value)))
Comment...
 h3: Approve Alice to spend on behalf of Bob more than Bob's balance
Executing approve(sp.record(spender = sp.reduce(sp.test_account("Alice").address), value = 5000))...
 -> (Pair (Pair "Contract_0" {Elt "tz1MNSSsKGkxwzZ189EdGLFCmFTJiDyy6T92" (Pair {} 2500); Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" (Pair {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 5000} 2500); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair {} 2500); Elt "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" (Pair {} 2500)}) (Pair False 10000))
Executing setApproval(sp.record(address = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), owner = sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), value = 5000))...
 -> (Pair (Pair (Pair (Pair "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" -1) (Pair 200 {})) (Pair (Pair {Elt "tz1MNSSsKGkxwzZ189EdGLFCmFTJiDyy6T92" (Pair {} 2500); Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" (Pair {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 5000} 2500); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair {} 2500); Elt "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" (Pair {} 2500)} 1) (Pair 200 (Pair 0 200)))) (Pair (Pair (Pair 1 0) (Pair False (Pair 0 {}))) (Pair (Pair None (Some "Contract_1")) (Pair False (Pair 0 {})))))
Comment...
 h3: Alice spends all the permitted tokens (more than balance) on behalf on Bob (FAILED)
Executing transfer(sp.record(from_ = sp.reduce(sp.test_account("Bob").address), to_ = sp.reduce(sp.test_account("Alice").address), value = 5000))...
 -> --- Expected failure in transaction --- WrongCondition in line 97: self.data.balances[params.from_].balance >= params.value
Comment...
 h3: Alice spends all permitted tokens on behalf of Bob again (FAILED)
Executing transfer(sp.record(from_ = sp.reduce(sp.test_account("Bob").address), to_ = sp.reduce(sp.test_account("Alice").address), value = 5000))...
 -> --- Expected failure in transaction --- WrongCondition in line 97: self.data.balances[params.from_].balance >= params.value
Verifying sp.contract_data(1).balances[sp.reduce(sp.test_account("Alice").address)].balance == 2500...
 => ./contracts/tests/build/FA1dot2_Token_Functionalities_interpreted/testVerify.47.tz 35
 OK
Verifying sp.contract_data(1).balances[sp.reduce(sp.test_account("Bob").address)].balance == 2500...
 => ./contracts/tests/build/FA1dot2_Token_Functionalities_interpreted/testVerify.48.tz 35
 OK
Comment...
 h3: 
[&#x2713] All approvals work as expected