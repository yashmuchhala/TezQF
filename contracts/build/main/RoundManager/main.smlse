(storage (record 1238 (currentRound (literal (nat -1) 1241)) (daoContractAddress (literal (address "KT1LhadE7iBfTcaQ2DUsJrR7WhSpeiSEZAHR") -1)) (isRoundActive (literal (bool False) 1238)) (rounds (type_annotation (big_map 1242 ) (bigmap "nat" (record ((end "timestamp") (entries (bigmap "nat" (record ((address "address") (contributions (list (record ((address "address") (amount "nat") (clrMatch "mutez") (timestamp "timestamp")) None))) (description "string") (disputeEnd "timestamp") (disputed "bool") (disqualified "bool") (sponsorshipWon "mutez") (subsidyPower "nat") (totalContribution "mutez")) None))) (entryId "nat") (name "string") (sponsors (map "address" (record ((amount "mutez") (name "string")) None))) (start "timestamp") (totalContribution "mutez") (totalSponsorship "mutez") (totalSubsidyPower "nat")) None)) 1242)))
storage_type (())
messages ((contribute True ((set_type (params 1392) (record ((entryId "nat")) None) 1400) (verify (attr (data) "isRoundActive" 1412) False 1412) (verify (gt (now) (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1413) "start" 1413) 1413) False 1413) (verify (lt (now) (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1414) "end" 1414) 1414) False 1414) (verify (gt (amount) (literal (mutez 0) 1417) 1417) False 1417) (verify (ge (attr (params 1392) "entryId" 1420) (literal (intOrNat 0) 1420) 1420) False 1420) (verify (le (attr (params 1392) "entryId" 1420) (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1421) "entryId" 1421) 1421) False 1421) (verify (invert (attr (getItem (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1422) "entries" 1422) (attr (params 1392) "entryId" 1420) 1422) "disqualified" 1422) 1422) False 1422) (set (attr (getItem (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1425) "entries" 1425) (attr (params 1392) "entryId" 1420) 1425) "contributions" 1425) (cons (record 1426 (address (sender)) (amount (first (openVariant (ediv (amount) (literal (mutez 1000000) 1428) 1428) "Some" 1428) 1428)) (clrMatch (literal (mutez 0) 1429)) (timestamp (now))) (attr (getItem (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1425) "entries" 1425) (attr (params 1392) "entryId" 1420) 1425) "contributions" 1425) 1425) 1425) (set (attr (getItem (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1435) "entries" 1435) (attr (params 1392) "entryId" 1420) 1435) "totalContribution" 1435) (add (attr (getItem (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1435) "entries" 1435) (attr (params 1392) "entryId" 1420) 1435) "totalContribution" 1435) (amount) 1435) 1435) (set (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1436) "totalContribution" 1436) (add (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1436) "totalContribution" 1436) (amount) 1436) 1436))) (createNewRound True ((set_type (params 1286) (record ((end "timestamp") (name "string") (sponsors (map "address" (record ((amount "mutez") (name "string")) None))) (start "timestamp") (totalSponsorship "mutez")) None) 1298) (verify (eq (sender) (attr (data) "daoContractAddress" 1325) 1325) False 1325) (verify (invert (attr (data) "isRoundActive" 1412) 1328) False 1328) (verify (gt (attr (params 1286) "end" 1331) (now) 1331) False 1331) (set (attr (data) "currentRound" 1413) (add (attr (data) "currentRound" 1413) (literal (intOrNat 1) 1334) 1334) 1334) (set (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1335) (record 1335 (end (attr (params 1286) "end" 1331)) (entries (big_map 1341 )) (entryId (literal (nat -1) 1344)) (name (attr (params 1286) "name" 1338)) (sponsors (attr (params 1286) "sponsors" 1340)) (start (attr (params 1286) "start" 1336)) (totalContribution (literal (mutez 0) 1342)) (totalSponsorship (attr (params 1286) "totalSponsorship" 1339)) (totalSubsidyPower (literal (nat 0) 1343))) 1335) (set (attr (data) "isRoundActive" 1412) (literal (bool True) 1346) 1346))) (disburse True ((verify (eq (sender) (attr (data) "daoContractAddress" 1325) 1540) False 1540) (verify (eq (attr (data) "isRoundActive" 1412) (literal (bool True) 1543) 1543) False 1543) (verify (gt (now) (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1544) "start" 1544) 1544) False 1544) (verify (gt (now) (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1545) "end" 1545) 1545) False 1545) (verify (eq (amount) (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1548) "totalSponsorship" 1548) 1548) False 1548) (forGroup "i" (range (literal (intOrNat 0) 1551) (add (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1551) "entryId" 1551) (literal (intOrNat 1) 1551) 1551) (literal (intOrNat 1) 1551) 1551) ((ifBlock (invert (attr (getItem (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1552) "entries" 1552) (iter "i" 1551) 1552) "disqualified" 1552) 1552) ((forGroup "contribution" (attr (getItem (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1556) "entries" 1556) (iter "i" 1551) 1556) "contributions" 1556) ((defineLocal "root" (mul (attr (iter "contribution" 1556) "amount" 1560) (literal (intOrNat 10000) 1560) 1560) 1561) (whileBlock (gt (mul (getLocal "root" 1562) (getLocal "root" 1562) 1562) (mul (attr (iter "contribution" 1556) "amount" 1560) (literal (intOrNat 10000) 1560) 1560) 1562) ((set (getLocal "root" -1) (floordiv (add (floordiv (mul (attr (iter "contribution" 1556) "amount" 1560) (literal (intOrNat 10000) 1560) 1560) (getLocal "root" 1563) 1563) (getLocal "root" 1563) 1563) (literal (intOrNat 2) 1563) 1563) 1563)) 1562) (verify (and (le (mul (getLocal "root" 1566) (getLocal "root" 1566) 1566) (mul (attr (iter "contribution" 1556) "amount" 1560) (literal (intOrNat 10000) 1560) 1560) 1566) (lt (mul (attr (iter "contribution" 1556) "amount" 1560) (literal (intOrNat 10000) 1560) 1560) (mul (add (getLocal "root" 1567) (literal (intOrNat 1) 1567) 1567) (add (getLocal "root" 1567) (literal (intOrNat 1) 1567) 1567) 1567) 1567) 1566) False 1565) (set (attr (getItem (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1571) "entries" 1571) (iter "i" 1551) 1571) "subsidyPower" 1571) (add (attr (getItem (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1571) "entries" 1571) (iter "i" 1551) 1571) "subsidyPower" 1571) (getLocal "root" 1571) 1571) 1571)) 1556) (set (attr (getItem (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1574) "entries" 1574) (iter "i" 1551) 1574) "subsidyPower" 1574) (truediv (mul (attr (getItem (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1574) "entries" 1574) (iter "i" 1551) 1574) "subsidyPower" 1574) (attr (getItem (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1574) "entries" 1574) (iter "i" 1551) 1574) "subsidyPower" 1574) 1574) (literal (intOrNat 10000) 1574) 1574) 1574) (set (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1577) "totalSubsidyPower" 1577) (add (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1577) "totalSubsidyPower" 1577) (attr (getItem (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1577) "entries" 1577) (iter "i" 1551) 1577) "subsidyPower" 1577) 1577) 1577)) 1552)) 1551) (verify (gt (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1579) "totalSubsidyPower" 1579) (literal (intOrNat 0) 1579) 1579) False 1579) (defineLocal "totalSponsorship" (amount) 1582) (forGroup "i" (range (literal (intOrNat 0) 1584) (add (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1584) "entryId" 1584) (literal (intOrNat 1) 1584) 1584) (literal (intOrNat 1) 1584) 1584) ((ifBlock (invert (attr (getItem (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1585) "entries" 1585) (iter "i" 1584) 1585) "disqualified" 1585) 1585) ((set (attr (getItem (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1586) "entries" 1586) (iter "i" 1584) 1586) "sponsorshipWon" 1586) (split_tokens (amount) (attr (getItem (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1588) "entries" 1588) (iter "i" 1584) 1588) "subsidyPower" 1588) (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1589) "totalSubsidyPower" 1589) 1586) 1586) (set (operations 1592) (cons (transfer (unit) (add (attr (getItem (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1594) "entries" 1594) (iter "i" 1584) 1594) "sponsorshipWon" 1594) (attr (getItem (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1595) "entries" 1595) (iter "i" 1584) 1595) "totalContribution" 1595) 1594) (openVariant (contract "" "unit" (attr (getItem (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1593) "entries" 1593) (iter "i" 1584) 1593) "address" 1593) 1592) "Some" 1592) 1592) (operations 1592) 1592) 1592) (set (getLocal "totalSponsorship" -1) (sub (getLocal "totalSponsorship" 1598) (attr (getItem (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1598) "entries" 1598) (iter "i" 1584) 1598) "sponsorshipWon" 1598) 1598) 1598)) 1585)) 1584) (set (attr (data) "isRoundActive" 1412) (literal (bool False) 1600) 1600))) (dispute True ((set_type (params 1440) (record ((entryId "nat")) None) 1449) (verify (eq (sender) (attr (data) "daoContractAddress" 1325) 1461) False 1461) (verify (attr (data) "isRoundActive" 1412) False 1464) (verify (gt (now) (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1465) "start" 1465) 1465) False 1465) (verify (lt (now) (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1466) "end" 1466) 1466) False 1466) (verify (ge (attr (params 1440) "entryId" 1469) (literal (intOrNat 0) 1469) 1469) False 1469) (verify (le (attr (params 1440) "entryId" 1469) (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1470) "entryId" 1470) 1470) False 1470) (verify (invert (attr (getItem (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1471) "entries" 1471) (attr (params 1440) "entryId" 1469) 1471) "disqualified" 1471) 1471) False 1471) (set (attr (getItem (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1474) "entries" 1474) (attr (params 1440) "entryId" 1469) 1474) "disputed" 1474) (literal (bool True) 1474) 1474) (set (attr (getItem (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1475) "entries" 1475) (attr (params 1440) "entryId" 1469) 1475) "disputeEnd" 1475) (add_seconds (now) (literal (intOrNat 600) 1475) 1475) 1475))) (disqualify True ((set_type (params 1479) (record ((entryId "nat")) None) 1487) (verify (eq (sender) (attr (data) "daoContractAddress" 1325) 1499) False 1499) (verify (attr (data) "isRoundActive" 1412) False 1502) (verify (gt (now) (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1503) "start" 1503) 1503) False 1503) (verify (lt (now) (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1504) "end" 1504) 1504) False 1504) (verify (ge (attr (params 1479) "entryId" 1508) (literal (intOrNat 0) 1508) 1508) False 1508) (verify (le (attr (params 1479) "entryId" 1508) (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1509) "entryId" 1509) 1509) False 1509) (verify (gt (now) (attr (getItem (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1511) "entries" 1511) (attr (params 1479) "entryId" 1508) 1511) "disputeEnd" 1511) 1511) False 1510) (verify (invert (attr (getItem (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1513) "entries" 1513) (attr (params 1479) "entryId" 1508) 1513) "disqualified" 1513) 1513) False 1513) (set (attr (getItem (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1516) "entries" 1516) (attr (params 1479) "entryId" 1508) 1516) "disqualified" 1516) (literal (bool True) 1516) 1516) (forGroup "contribution" (attr (getItem (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1517) "entries" 1517) (attr (params 1479) "entryId" 1508) 1517) "contributions" 1517) ((set (operations 1518) (cons (transfer (unit) (split_tokens (literal (mutez 1000000) 1518) (attr (iter "contribution" 1517) "amount" 1518) (literal (intOrNat 1) 1518) 1518) (openVariant (contract "" "unit" (attr (iter "contribution" 1517) "address" 1518) 1518) "Some" 1518) 1518) (operations 1518) 1518) 1518) (set (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1519) "totalContribution" 1519) (sub (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1519) "totalContribution" 1519) (split_tokens (literal (mutez 1000000) 1519) (attr (iter "contribution" 1517) "amount" 1518) (literal (intOrNat 1) 1519) 1519) 1519) 1519)) 1517))) (enterRound True ((set_type (params 1350) (record ((description "string")) None) 1359) (verify (attr (data) "isRoundActive" 1412) False 1372) (verify (gt (now) (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1373) "start" 1373) 1373) False 1373) (verify (lt (now) (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1374) "end" 1374) 1374) False 1374) (set (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1377) "entryId" 1377) (add (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1377) "entryId" 1377) (literal (intOrNat 1) 1377) 1377) 1377) (set (getItem (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1378) "entries" 1378) (attr (getItem (attr (data) "rounds" 1413) (attr (data) "currentRound" 1413) 1378) "entryId" 1378) 1378) (record 1378 (address (sender)) (contributions (list 1384 )) (description (attr (params 1350) "description" 1379)) (disputeEnd (add_seconds (now) (literal (intOrNat 5000) 1381) 1381)) (disputed (literal (bool False) 1378)) (disqualified (literal (bool False) 1378)) (sponsorshipWon (literal (mutez 0) 1387)) (subsidyPower (literal (nat 0) 1386)) (totalContribution (literal (mutez 0) 1385))) 1378))))
flags ()
globals ()
storage_layout ()
entry_points_layout ())